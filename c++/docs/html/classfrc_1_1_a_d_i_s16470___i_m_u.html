<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ADIS16470 RoboRIO Driver: frc::ADIS16470_IMU Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ADIS16470 RoboRIO Driver
   </div>
   <div id="projectbrief">C++ Driver for the ADIS16470 IMU on a RoboRIO platform</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>frc</b></li><li class="navelem"><a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html">ADIS16470_IMU</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classfrc_1_1_a_d_i_s16470___i_m_u-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">frc::ADIS16470_IMU Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_a_d_i_s16470___i_m_u_8h_source.html">ADIS16470_IMU.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for frc::ADIS16470_IMU:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classfrc_1_1_a_d_i_s16470___i_m_u.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a42f1ce36a3ae9b32091e25b8d03d441e"><td class="memItemLeft" align="right" valign="top"><a id="a42f1ce36a3ae9b32091e25b8d03d441e"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a42f1ce36a3ae9b32091e25b8d03d441e">IMUAxis</a> { <b>kX</b>, 
<b>kY</b>, 
<b>kZ</b>
 }</td></tr>
<tr class="memdesc:a42f1ce36a3ae9b32091e25b8d03d441e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enum representing the three orthogonal IMU axis (x, y, z) <br /></td></tr>
<tr class="separator:a42f1ce36a3ae9b32091e25b8d03d441e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a65a5ba5c5fdf8520a8f88f54fdd3af97"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a65a5ba5c5fdf8520a8f88f54fdd3af97">ADIS16470_IMU</a> ()</td></tr>
<tr class="memdesc:a65a5ba5c5fdf8520a8f88f54fdd3af97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor. Uses CS0 on the 10-pin SPI port, the yaw axis is set to the IMU Z axis, and calibration time is defaulted to 4 seconds.  <a href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a65a5ba5c5fdf8520a8f88f54fdd3af97">More...</a><br /></td></tr>
<tr class="separator:a65a5ba5c5fdf8520a8f88f54fdd3af97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b41aeb87b97d13f7ddbd30c04e51d9c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a7b41aeb87b97d13f7ddbd30c04e51d9c">ADIS16470_IMU</a> (<a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a42f1ce36a3ae9b32091e25b8d03d441e">IMUAxis</a> yaw_axis, SPI::Port port, ADIS16470CalibrationTime cal_time)</td></tr>
<tr class="memdesc:a7b41aeb87b97d13f7ddbd30c04e51d9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Customizable constructor. Allows the SPI port and CS to be customized, the yaw axis used for <a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a1b946c9dfa5fff9df3698faafea6807d" title="Returns the current integrated angle for the axis specified.">GetAngle()</a> is adjustable, and initial calibration time can be modified.  <a href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a7b41aeb87b97d13f7ddbd30c04e51d9c">More...</a><br /></td></tr>
<tr class="separator:a7b41aeb87b97d13f7ddbd30c04e51d9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60e5285fb337f46b56584658e6ce6c92"><td class="memItemLeft" align="right" valign="top"><a id="a60e5285fb337f46b56584658e6ce6c92"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a60e5285fb337f46b56584658e6ce6c92">~ADIS16470_IMU</a> ()</td></tr>
<tr class="memdesc:a60e5285fb337f46b56584658e6ce6c92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. Kills the acquisiton loop and closes the SPI peripheral. <br /></td></tr>
<tr class="separator:a60e5285fb337f46b56584658e6ce6c92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2225e649227525bb5819ef1c42f84965"><td class="memItemLeft" align="right" valign="top"><a id="a2225e649227525bb5819ef1c42f84965"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ADIS16470_IMU</b> (<a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html">ADIS16470_IMU</a> &amp;&amp;)=default</td></tr>
<tr class="separator:a2225e649227525bb5819ef1c42f84965"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42374eca817454e91a15e04ad6a7c190"><td class="memItemLeft" align="right" valign="top"><a id="a42374eca817454e91a15e04ad6a7c190"></a>
<a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html">ADIS16470_IMU</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html">ADIS16470_IMU</a> &amp;&amp;)=default</td></tr>
<tr class="separator:a42374eca817454e91a15e04ad6a7c190"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5701488fc4ccce01f06b6c26eaeace3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#ad5701488fc4ccce01f06b6c26eaeace3">Calibrate</a> () override</td></tr>
<tr class="memdesc:ad5701488fc4ccce01f06b6c26eaeace3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switches the active SPI port to standard SPI mode, writes the command to activate the new null configuration, and re-enables auto SPI.  <a href="classfrc_1_1_a_d_i_s16470___i_m_u.html#ad5701488fc4ccce01f06b6c26eaeace3">More...</a><br /></td></tr>
<tr class="separator:ad5701488fc4ccce01f06b6c26eaeace3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f7966a360572e6c4cd84bee50431f09"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a0f7966a360572e6c4cd84bee50431f09">ConfigCalTime</a> (ADIS16470CalibrationTime new_cal_time)</td></tr>
<tr class="memdesc:a0f7966a360572e6c4cd84bee50431f09"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switches the active SPI port to standard SPI mode, writes a new value to the NULL_CNFG register in the IMU, and re-enables auto SPI.  <a href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a0f7966a360572e6c4cd84bee50431f09">More...</a><br /></td></tr>
<tr class="separator:a0f7966a360572e6c4cd84bee50431f09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2852c60670e1751d9e3c2b1bcf3fe190"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a2852c60670e1751d9e3c2b1bcf3fe190">Reset</a> () override</td></tr>
<tr class="memdesc:a2852c60670e1751d9e3c2b1bcf3fe190"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets (zeros) the xgyro, ygyro, and zgyro angle integrations.  <a href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a2852c60670e1751d9e3c2b1bcf3fe190">More...</a><br /></td></tr>
<tr class="separator:a2852c60670e1751d9e3c2b1bcf3fe190"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b946c9dfa5fff9df3698faafea6807d"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a1b946c9dfa5fff9df3698faafea6807d">GetAngle</a> () const override</td></tr>
<tr class="memdesc:a1b946c9dfa5fff9df3698faafea6807d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current integrated angle for the axis specified.  <a href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a1b946c9dfa5fff9df3698faafea6807d">More...</a><br /></td></tr>
<tr class="separator:a1b946c9dfa5fff9df3698faafea6807d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c277b0aad15def3e9f683b7961da6b2"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a0c277b0aad15def3e9f683b7961da6b2">GetRate</a> () const</td></tr>
<tr class="memdesc:a0c277b0aad15def3e9f683b7961da6b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the IMU rotation rate for the selected yaw axis.  <a href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a0c277b0aad15def3e9f683b7961da6b2">More...</a><br /></td></tr>
<tr class="separator:a0c277b0aad15def3e9f683b7961da6b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39bbb906a524e2dd3ea64513b5b61b16"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a39bbb906a524e2dd3ea64513b5b61b16">GetGyroInstantX</a> () const</td></tr>
<tr class="memdesc:a39bbb906a524e2dd3ea64513b5b61b16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the angular rotation rate measured on the X axis.  <a href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a39bbb906a524e2dd3ea64513b5b61b16">More...</a><br /></td></tr>
<tr class="separator:a39bbb906a524e2dd3ea64513b5b61b16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa75e282487b0fa27dc352f6f6b61fa40"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#aa75e282487b0fa27dc352f6f6b61fa40">GetGyroInstantY</a> () const</td></tr>
<tr class="memdesc:aa75e282487b0fa27dc352f6f6b61fa40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the angular rotation rate measured on the Y axis.  <a href="classfrc_1_1_a_d_i_s16470___i_m_u.html#aa75e282487b0fa27dc352f6f6b61fa40">More...</a><br /></td></tr>
<tr class="separator:aa75e282487b0fa27dc352f6f6b61fa40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee47eb9c8f4ade94c1439da7fdc31677"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#aee47eb9c8f4ade94c1439da7fdc31677">GetGyroInstantZ</a> () const</td></tr>
<tr class="memdesc:aee47eb9c8f4ade94c1439da7fdc31677"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the angular rotation rate measured on the Z axis.  <a href="classfrc_1_1_a_d_i_s16470___i_m_u.html#aee47eb9c8f4ade94c1439da7fdc31677">More...</a><br /></td></tr>
<tr class="separator:aee47eb9c8f4ade94c1439da7fdc31677"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a500beed3ff8c25d7fa7591c16bbce6f5"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a500beed3ff8c25d7fa7591c16bbce6f5">GetAccelInstantX</a> () const</td></tr>
<tr class="memdesc:a500beed3ff8c25d7fa7591c16bbce6f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the linear acceleration measured on the X axis.  <a href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a500beed3ff8c25d7fa7591c16bbce6f5">More...</a><br /></td></tr>
<tr class="separator:a500beed3ff8c25d7fa7591c16bbce6f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96ae9af71261e8ba194b77d4f929a456"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a96ae9af71261e8ba194b77d4f929a456">GetAccelInstantY</a> () const</td></tr>
<tr class="memdesc:a96ae9af71261e8ba194b77d4f929a456"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the linear acceleration measured on the Y axis.  <a href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a96ae9af71261e8ba194b77d4f929a456">More...</a><br /></td></tr>
<tr class="separator:a96ae9af71261e8ba194b77d4f929a456"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb957e179be15943b30dd63fdf41dcfc"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#acb957e179be15943b30dd63fdf41dcfc">GetAccelInstantZ</a> () const</td></tr>
<tr class="memdesc:acb957e179be15943b30dd63fdf41dcfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the linear acceleration measured on the Z axis.  <a href="classfrc_1_1_a_d_i_s16470___i_m_u.html#acb957e179be15943b30dd63fdf41dcfc">More...</a><br /></td></tr>
<tr class="separator:acb957e179be15943b30dd63fdf41dcfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5990a7bf8c4893c1c045e3ce7b304c76"><td class="memItemLeft" align="right" valign="top"><a id="a5990a7bf8c4893c1c045e3ce7b304c76"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>GetXComplementaryAngle</b> () const</td></tr>
<tr class="separator:a5990a7bf8c4893c1c045e3ce7b304c76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1a92ae78dbea3c0baeb86e12499206f"><td class="memItemLeft" align="right" valign="top"><a id="ae1a92ae78dbea3c0baeb86e12499206f"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>GetYComplementaryAngle</b> () const</td></tr>
<tr class="separator:ae1a92ae78dbea3c0baeb86e12499206f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcc9b99ec8d198e58eafaed529c8070f"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#abcc9b99ec8d198e58eafaed529c8070f">GetXFilteredAccelAngle</a> () const</td></tr>
<tr class="memdesc:abcc9b99ec8d198e58eafaed529c8070f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the complementary angle measured around the X axis.  <a href="classfrc_1_1_a_d_i_s16470___i_m_u.html#abcc9b99ec8d198e58eafaed529c8070f">More...</a><br /></td></tr>
<tr class="separator:abcc9b99ec8d198e58eafaed529c8070f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e6519b172908c1d1b444b0a7d305d20"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a2e6519b172908c1d1b444b0a7d305d20">GetYFilteredAccelAngle</a> () const</td></tr>
<tr class="memdesc:a2e6519b172908c1d1b444b0a7d305d20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the complementary angle measured around the Y axis.  <a href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a2e6519b172908c1d1b444b0a7d305d20">More...</a><br /></td></tr>
<tr class="separator:a2e6519b172908c1d1b444b0a7d305d20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96da02679713e0fdb81f79bb52fb6403"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a42f1ce36a3ae9b32091e25b8d03d441e">IMUAxis</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a96da02679713e0fdb81f79bb52fb6403">GetYawAxis</a> () const</td></tr>
<tr class="memdesc:a96da02679713e0fdb81f79bb52fb6403"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the selected yaw axis.  <a href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a96da02679713e0fdb81f79bb52fb6403">More...</a><br /></td></tr>
<tr class="separator:a96da02679713e0fdb81f79bb52fb6403"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c15617f228ec1ce69e1525d676ee45a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a5c15617f228ec1ce69e1525d676ee45a">SetYawAxis</a> (<a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a42f1ce36a3ae9b32091e25b8d03d441e">IMUAxis</a> yaw_axis)</td></tr>
<tr class="memdesc:a5c15617f228ec1ce69e1525d676ee45a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Select the IMU yaw axis (perpendicular to gravity)  <a href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a5c15617f228ec1ce69e1525d676ee45a">More...</a><br /></td></tr>
<tr class="separator:a5c15617f228ec1ce69e1525d676ee45a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9062b1bf601e6f14a918e1bd4cff1db7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a9062b1bf601e6f14a918e1bd4cff1db7">InitSendable</a> (SendableBuilder &amp;builder) override</td></tr>
<tr class="memdesc:a9062b1bf601e6f14a918e1bd4cff1db7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Builds a Sendable object to push IMU data to the driver station.  <a href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a9062b1bf601e6f14a918e1bd4cff1db7">More...</a><br /></td></tr>
<tr class="separator:a9062b1bf601e6f14a918e1bd4cff1db7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ab6af8918c3b341d83e7f34844c78546a"><td class="memItemLeft" align="right" valign="top"><a id="ab6af8918c3b341d83e7f34844c78546a"></a>
<a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a42f1ce36a3ae9b32091e25b8d03d441e">IMUAxis</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#ab6af8918c3b341d83e7f34844c78546a">m_yaw_axis</a></td></tr>
<tr class="memdesc:ab6af8918c3b341d83e7f34844c78546a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Public member to get or set the IMU yaw axis. <br /></td></tr>
<tr class="separator:ab6af8918c3b341d83e7f34844c78546a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Use DMA SPI to read rate and acceleration data from the ADIS16470 IMU and return the robot's heading relative to a starting position and instant measurements</p>
<p>The ADIS16470 gyro angle outputs track the robot's heading based on the starting position. As the robot rotates the new heading is computed by integrating the rate of rotation returned by the IMU. When the class is instantiated, a short calibration routine is performed where the IMU samples the gyros while at rest to determine the initial offset. This is subtracted from each sample to determine the heading.</p>
<p>This class is for the ADIS16470 IMU connected via the primary SPI port available on the RoboRIO. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a65a5ba5c5fdf8520a8f88f54fdd3af97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65a5ba5c5fdf8520a8f88f54fdd3af97">&#9670;&nbsp;</a></span>ADIS16470_IMU() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ADIS16470_IMU::ADIS16470_IMU </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor. Uses CS0 on the 10-pin SPI port, the yaw axis is set to the IMU Z axis, and calibration time is defaulted to 4 seconds. </p>
<p>Constructor. </p>

</div>
</div>
<a id="a7b41aeb87b97d13f7ddbd30c04e51d9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b41aeb87b97d13f7ddbd30c04e51d9c">&#9670;&nbsp;</a></span>ADIS16470_IMU() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ADIS16470_IMU::ADIS16470_IMU </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a42f1ce36a3ae9b32091e25b8d03d441e">IMUAxis</a>&#160;</td>
          <td class="paramname"><em>yaw_axis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SPI::Port&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ADIS16470CalibrationTime&#160;</td>
          <td class="paramname"><em>cal_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Customizable constructor. Allows the SPI port and CS to be customized, the yaw axis used for <a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a1b946c9dfa5fff9df3698faafea6807d" title="Returns the current integrated angle for the axis specified.">GetAngle()</a> is adjustable, and initial calibration time can be modified. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">yaw_axis</td><td>Selects the "default" axis to use for <a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a1b946c9dfa5fff9df3698faafea6807d" title="Returns the current integrated angle for the axis specified.">GetAngle()</a> and <a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a0c277b0aad15def3e9f683b7961da6b2" title="Get the IMU rotation rate for the selected yaw axis.">GetRate()</a></td></tr>
    <tr><td class="paramname">port</td><td>The SPI port and CS where the IMU is connected.</td></tr>
    <tr><td class="paramname">cal_time</td><td>The calibration time that should be used on start-up. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad5701488fc4ccce01f06b6c26eaeace3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5701488fc4ccce01f06b6c26eaeace3">&#9670;&nbsp;</a></span>Calibrate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ADIS16470_IMU::Calibrate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Switches the active SPI port to standard SPI mode, writes the command to activate the new null configuration, and re-enables auto SPI. </p>
<p>This function enters standard SPI mode, writes 0x0001 to the GLOB_CMD register (thus making the new offset active in the IMU), and re-enters auto SPI mode. This function does not include a blocking sleep, so the user must keep track of the elapsed offset calibration time themselves. </p>

</div>
</div>
<a id="a0f7966a360572e6c4cd84bee50431f09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f7966a360572e6c4cd84bee50431f09">&#9670;&nbsp;</a></span>ConfigCalTime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ADIS16470_IMU::ConfigCalTime </td>
          <td>(</td>
          <td class="paramtype">ADIS16470CalibrationTime&#160;</td>
          <td class="paramname"><em>new_cal_time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Switches the active SPI port to standard SPI mode, writes a new value to the NULL_CNFG register in the IMU, and re-enables auto SPI. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_cal_time</td><td>Calibration time to be set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An int indicating the success or failure of writing the new NULL_CNFG setting and returning to auto SPI mode. 0 = Success, 1 = No Change, 2 = Failure</dd></dl>
<p>This function enters standard SPI mode, writes a new NULL_CNFG setting to the IMU, and re-enters auto SPI mode. This function does not include a blocking sleep, so the user must keep track of the elapsed offset calibration time themselves. After waiting the configured calibration time, the <a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#ad5701488fc4ccce01f06b6c26eaeace3" title="Switches the active SPI port to standard SPI mode, writes the command to activate the new null config...">Calibrate()</a> function should be called to activate the new offset calibration. </p>

</div>
</div>
<a id="a500beed3ff8c25d7fa7591c16bbce6f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a500beed3ff8c25d7fa7591c16bbce6f5">&#9670;&nbsp;</a></span>GetAccelInstantX()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double ADIS16470_IMU::GetAccelInstantX </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the linear acceleration measured on the X axis. </p>
<dl class="section return"><dt>Returns</dt><dd>The measured linear acceleration on the X axis, in g's. </dd></dl>

</div>
</div>
<a id="a96ae9af71261e8ba194b77d4f929a456"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96ae9af71261e8ba194b77d4f929a456">&#9670;&nbsp;</a></span>GetAccelInstantY()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double ADIS16470_IMU::GetAccelInstantY </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the linear acceleration measured on the Y axis. </p>
<dl class="section return"><dt>Returns</dt><dd>The measured linear acceleration on the Y axis, in g's. </dd></dl>

</div>
</div>
<a id="acb957e179be15943b30dd63fdf41dcfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb957e179be15943b30dd63fdf41dcfc">&#9670;&nbsp;</a></span>GetAccelInstantZ()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double ADIS16470_IMU::GetAccelInstantZ </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the linear acceleration measured on the Z axis. </p>
<dl class="section return"><dt>Returns</dt><dd>The measured linear acceleration on the Z axis, in g's. </dd></dl>

</div>
</div>
<a id="a1b946c9dfa5fff9df3698faafea6807d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b946c9dfa5fff9df3698faafea6807d">&#9670;&nbsp;</a></span>GetAngle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double ADIS16470_IMU::GetAngle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the current integrated angle for the axis specified. </p>
<p>The angle is based on the current accumulator value corrected by offset calibration and built-in IMU calibration. The angle is continuous, that is it will continue from 360-&gt;361 degrees. This allows algorithms that wouldn't want to see a discontinuity in the gyro output as it sweeps from 360 to 0 on the second time around. The axis returned by this function is adjusted based on the configured yaw_axis.</p>
<dl class="section return"><dt>Returns</dt><dd>the current heading of the robot in degrees. This heading is based on integration of the returned rate from the gyro.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m_yaw_axis</td><td>An enum indicating the axis chosen to act as the yaw axis.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The current integrated angle in degrees.</dd></dl>
<p>This function returns the most recent integrated angle for the axis chosen by m_yaw_axis. This function is most useful in situations where the yaw axis may not coincide with the IMU Z axis. </p>

</div>
</div>
<a id="a39bbb906a524e2dd3ea64513b5b61b16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39bbb906a524e2dd3ea64513b5b61b16">&#9670;&nbsp;</a></span>GetGyroInstantX()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double ADIS16470_IMU::GetGyroInstantX </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the angular rotation rate measured on the X axis. </p>
<dl class="section return"><dt>Returns</dt><dd>The measured angular rotation rate about the X axis, in degrees/s </dd></dl>

</div>
</div>
<a id="aa75e282487b0fa27dc352f6f6b61fa40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa75e282487b0fa27dc352f6f6b61fa40">&#9670;&nbsp;</a></span>GetGyroInstantY()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double ADIS16470_IMU::GetGyroInstantY </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the angular rotation rate measured on the Y axis. </p>
<dl class="section return"><dt>Returns</dt><dd>The measured angular rotation rate about the Y axis, in degrees/s </dd></dl>

</div>
</div>
<a id="aee47eb9c8f4ade94c1439da7fdc31677"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee47eb9c8f4ade94c1439da7fdc31677">&#9670;&nbsp;</a></span>GetGyroInstantZ()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double ADIS16470_IMU::GetGyroInstantZ </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the angular rotation rate measured on the Z axis. </p>
<dl class="section return"><dt>Returns</dt><dd>The measured angular rotation rate about the Z axis, in degrees/s </dd></dl>

</div>
</div>
<a id="a0c277b0aad15def3e9f683b7961da6b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c277b0aad15def3e9f683b7961da6b2">&#9670;&nbsp;</a></span>GetRate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double ADIS16470_IMU::GetRate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the IMU rotation rate for the selected yaw axis. </p>
<dl class="section return"><dt>Returns</dt><dd>The measured angular rotation rate about the selected axis, in degrees/s </dd></dl>

</div>
</div>
<a id="abcc9b99ec8d198e58eafaed529c8070f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcc9b99ec8d198e58eafaed529c8070f">&#9670;&nbsp;</a></span>GetXFilteredAccelAngle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double ADIS16470_IMU::GetXFilteredAccelAngle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the complementary angle measured around the X axis. </p>
<dl class="section return"><dt>Returns</dt><dd>The measured complementary angle around the X axis, in degrees.</dd></dl>
<p>This angle is calculated using the acclerometer and gyroscope outputs, with the earths gravity as a fixed acceleration reference. </p>

</div>
</div>
<a id="a96da02679713e0fdb81f79bb52fb6403"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96da02679713e0fdb81f79bb52fb6403">&#9670;&nbsp;</a></span>GetYawAxis()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a42f1ce36a3ae9b32091e25b8d03d441e">ADIS16470_IMU::IMUAxis</a> ADIS16470_IMU::GetYawAxis </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the selected yaw axis. </p>
<dl class="section return"><dt>Returns</dt><dd>The currently set yaw axis (x, y, or z). </dd></dl>

</div>
</div>
<a id="a2e6519b172908c1d1b444b0a7d305d20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e6519b172908c1d1b444b0a7d305d20">&#9670;&nbsp;</a></span>GetYFilteredAccelAngle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double ADIS16470_IMU::GetYFilteredAccelAngle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the complementary angle measured around the Y axis. </p>
<dl class="section return"><dt>Returns</dt><dd>The measured complementary angle around the Y axis, in degrees.</dd></dl>
<p>This angle is calculated using the acclerometer and gyroscope outputs, with the earths gravity as a fixed acceleration reference. </p>

</div>
</div>
<a id="a9062b1bf601e6f14a918e1bd4cff1db7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9062b1bf601e6f14a918e1bd4cff1db7">&#9670;&nbsp;</a></span>InitSendable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ADIS16470_IMU::InitSendable </td>
          <td>(</td>
          <td class="paramtype">SendableBuilder &amp;&#160;</td>
          <td class="paramname"><em>builder</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Builds a Sendable object to push IMU data to the driver station. </p>
<p>This function pushes the most recent angle estimates for all axes to the driver station. </p>

</div>
</div>
<a id="a2852c60670e1751d9e3c2b1bcf3fe190"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2852c60670e1751d9e3c2b1bcf3fe190">&#9670;&nbsp;</a></span>Reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ADIS16470_IMU::Reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resets (zeros) the xgyro, ygyro, and zgyro angle integrations. </p>
<p>Resets the gyro accumulations to a heading of zero. This can be used if the "zero" orientation of the sensor needs to be changed in runtime.</p>
<p>This function resets (zeros) the accumulated (integrated) angle estimates for the xgyro, ygyro, and zgyro outputs. </p>

</div>
</div>
<a id="a5c15617f228ec1ce69e1525d676ee45a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c15617f228ec1ce69e1525d676ee45a">&#9670;&nbsp;</a></span>SetYawAxis()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ADIS16470_IMU::SetYawAxis </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classfrc_1_1_a_d_i_s16470___i_m_u.html#a42f1ce36a3ae9b32091e25b8d03d441e">IMUAxis</a>&#160;</td>
          <td class="paramname"><em>yaw_axis</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Select the IMU yaw axis (perpendicular to gravity) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">yaw_axis</td><td>The axis selected to be the yaw axis.</td></tr>
  </table>
  </dd>
</dl>
<p>The integrated delta angle value will be read from the ADIS16470 every data ready period for the axis which is selected as the yaw axis. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>E:/FIRST/ADIS16470-RoboRIO-Driver/c++/src/main/include/adi/<a class="el" href="_a_d_i_s16470___i_m_u_8h_source.html">ADIS16470_IMU.h</a></li>
<li>E:/FIRST/ADIS16470-RoboRIO-Driver/c++/src/main/cpp/<a class="el" href="_a_d_i_s16470___i_m_u_8cpp.html">ADIS16470_IMU.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
